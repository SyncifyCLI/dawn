{
  "version": 3,
  "sources": ["../../source/assets/scripts/details-modal.js"],
  "sourcesContent": ["class DetailsModal extends HTMLElement {\n  constructor() {\n    super();\n    this.detailsContainer = this.querySelector('details');\n    this.summaryToggle = this.querySelector('summary');\n\n    this.detailsContainer.addEventListener('keyup', (event) => event.code.toUpperCase() === 'ESCAPE' && this.close());\n    this.summaryToggle.addEventListener('click', this.onSummaryClick.bind(this));\n    this.querySelector('button[type=\"button\"]').addEventListener('click', this.close.bind(this));\n\n    this.summaryToggle.setAttribute('role', 'button');\n  }\n\n  isOpen() {\n    return this.detailsContainer.hasAttribute('open');\n  }\n\n  onSummaryClick(event) {\n    event.preventDefault();\n    event.target.closest('details').hasAttribute('open') ? this.close() : this.open(event);\n  }\n\n  onBodyClick(event) {\n    if (!this.contains(event.target) || event.target.classList.contains('modal-overlay')) this.close(false);\n  }\n\n  open(event) {\n    this.onBodyClickEvent = this.onBodyClickEvent || this.onBodyClick.bind(this);\n    event.target.closest('details').setAttribute('open', true);\n    document.body.addEventListener('click', this.onBodyClickEvent);\n    document.body.classList.add('overflow-hidden');\n\n    trapFocus(\n      this.detailsContainer.querySelector('[tabindex=\"-1\"]'),\n      this.detailsContainer.querySelector('input:not([type=\"hidden\"])')\n    );\n  }\n\n  close(focusToggle = true) {\n    removeTrapFocus(focusToggle ? this.summaryToggle : null);\n    this.detailsContainer.removeAttribute('open');\n    document.body.removeEventListener('click', this.onBodyClickEvent);\n    document.body.classList.remove('overflow-hidden');\n  }\n}\n\ncustomElements.define('details-modal', DetailsModal);\n"],
  "mappings": "AAAA,IAAMA,EAAN,cAA2B,WAAY,CACrC,aAAc,CACZ,MAAM,EACN,KAAK,iBAAmB,KAAK,cAAc,SAAS,EACpD,KAAK,cAAgB,KAAK,cAAc,SAAS,EAEjD,KAAK,iBAAiB,iBAAiB,QAAUC,GAAUA,EAAM,KAAK,YAAY,IAAM,UAAY,KAAK,MAAM,CAAC,EAChH,KAAK,cAAc,iBAAiB,QAAS,KAAK,eAAe,KAAK,IAAI,CAAC,EAC3E,KAAK,cAAc,uBAAuB,EAAE,iBAAiB,QAAS,KAAK,MAAM,KAAK,IAAI,CAAC,EAE3F,KAAK,cAAc,aAAa,OAAQ,QAAQ,CAClD,CAEA,QAAS,CACP,OAAO,KAAK,iBAAiB,aAAa,MAAM,CAClD,CAEA,eAAeA,EAAO,CACpBA,EAAM,eAAe,EACrBA,EAAM,OAAO,QAAQ,SAAS,EAAE,aAAa,MAAM,EAAI,KAAK,MAAM,EAAI,KAAK,KAAKA,CAAK,CACvF,CAEA,YAAYA,EAAO,EACb,CAAC,KAAK,SAASA,EAAM,MAAM,GAAKA,EAAM,OAAO,UAAU,SAAS,eAAe,IAAG,KAAK,MAAM,EAAK,CACxG,CAEA,KAAKA,EAAO,CACV,KAAK,iBAAmB,KAAK,kBAAoB,KAAK,YAAY,KAAK,IAAI,EAC3EA,EAAM,OAAO,QAAQ,SAAS,EAAE,aAAa,OAAQ,EAAI,EACzD,SAAS,KAAK,iBAAiB,QAAS,KAAK,gBAAgB,EAC7D,SAAS,KAAK,UAAU,IAAI,iBAAiB,EAE7C,UACE,KAAK,iBAAiB,cAAc,iBAAiB,EACrD,KAAK,iBAAiB,cAAc,4BAA4B,CAClE,CACF,CAEA,MAAMC,EAAc,GAAM,CACxB,gBAAgBA,EAAc,KAAK,cAAgB,IAAI,EACvD,KAAK,iBAAiB,gBAAgB,MAAM,EAC5C,SAAS,KAAK,oBAAoB,QAAS,KAAK,gBAAgB,EAChE,SAAS,KAAK,UAAU,OAAO,iBAAiB,CAClD,CACF,EAEA,eAAe,OAAO,gBAAiBF,CAAY",
  "names": ["DetailsModal", "event", "focusToggle"]
}
