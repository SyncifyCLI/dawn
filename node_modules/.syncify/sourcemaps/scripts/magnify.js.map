{
  "version": 3,
  "sources": ["../../source/assets/scripts/magnify.js"],
  "sourcesContent": ["// create a container and set the full-size image as its background\nfunction createOverlay(image) {\n  const overlayImage = document.createElement('img');\n  overlayImage.setAttribute('src', `${image.src}`);\n  overlay = document.createElement('div');\n  prepareOverlay(overlay, overlayImage);\n\n  image.style.opacity = '50%';\n  toggleLoadingSpinner(image);\n\n  overlayImage.onload = () => {\n    toggleLoadingSpinner(image);\n    image.parentElement.insertBefore(overlay, image);\n    image.style.opacity = '100%';\n  };\n\n  return overlay;\n}\n\nfunction prepareOverlay(container, image) {\n  container.setAttribute('class', 'image-magnify-full-size');\n  container.setAttribute('aria-hidden', 'true');\n  container.style.backgroundImage = `url('${image.src}')`;\n  container.style.backgroundColor = 'var(--gradient-background)';\n}\n\nfunction toggleLoadingSpinner(image) {\n  const loadingSpinner = image.parentElement.parentElement.querySelector(`.loading__spinner`);\n  loadingSpinner.classList.toggle('hidden');\n}\n\nfunction moveWithHover(image, event, zoomRatio) {\n  // calculate mouse position\n  const ratio = image.height / image.width;\n  const container = event.target.getBoundingClientRect();\n  const xPosition = event.clientX - container.left;\n  const yPosition = event.clientY - container.top;\n  const xPercent = `${xPosition / (image.clientWidth / 100)}%`;\n  const yPercent = `${yPosition / ((image.clientWidth * ratio) / 100)}%`;\n\n  // determine what to show in the frame\n  overlay.style.backgroundPosition = `${xPercent} ${yPercent}`;\n  overlay.style.backgroundSize = `${image.width * zoomRatio}px`;\n}\n\nfunction magnify(image, zoomRatio) {\n  const overlay = createOverlay(image);\n  overlay.onclick = () => overlay.remove();\n  overlay.onmousemove = (event) => moveWithHover(image, event, zoomRatio);\n  overlay.onmouseleave = () => overlay.remove();\n}\n\nfunction enableZoomOnHover(zoomRatio) {\n  const images = document.querySelectorAll('.image-magnify-hover');\n  images.forEach((image) => {\n    image.onclick = (event) => {\n      magnify(image, zoomRatio);\n      moveWithHover(image, event, zoomRatio);\n    };\n  });\n}\n\nenableZoomOnHover(2);\n"],
  "mappings": "AACA,SAASA,EAAcC,EAAO,CAC5B,IAAMC,EAAe,SAAS,cAAc,KAAK,EACjD,OAAAA,EAAa,aAAa,MAAO,GAAGD,EAAM,GAAG,EAAE,EAC/C,QAAU,SAAS,cAAc,KAAK,EACtCE,EAAe,QAASD,CAAY,EAEpCD,EAAM,MAAM,QAAU,MACtBG,EAAqBH,CAAK,EAE1BC,EAAa,OAAS,IAAM,CAC1BE,EAAqBH,CAAK,EAC1BA,EAAM,cAAc,aAAa,QAASA,CAAK,EAC/CA,EAAM,MAAM,QAAU,MACxB,EAEO,OACT,CAEA,SAASE,EAAeE,EAAWJ,EAAO,CACxCI,EAAU,aAAa,QAAS,yBAAyB,EACzDA,EAAU,aAAa,cAAe,MAAM,EAC5CA,EAAU,MAAM,gBAAkB,QAAQJ,EAAM,GAAG,KACnDI,EAAU,MAAM,gBAAkB,4BACpC,CAEA,SAASD,EAAqBH,EAAO,CACZA,EAAM,cAAc,cAAc,cAAc,mBAAmB,EAC3E,UAAU,OAAO,QAAQ,CAC1C,CAEA,SAASK,EAAcL,EAAOM,EAAOC,EAAW,CAE9C,IAAMC,EAAQR,EAAM,OAASA,EAAM,MAC7BI,EAAYE,EAAM,OAAO,sBAAsB,EAC/CG,EAAYH,EAAM,QAAUF,EAAU,KACtCM,EAAYJ,EAAM,QAAUF,EAAU,IACtCO,EAAW,GAAGF,GAAaT,EAAM,YAAc,IAAI,IACnDY,EAAW,GAAGF,GAAcV,EAAM,YAAcQ,EAAS,IAAI,IAGnE,QAAQ,MAAM,mBAAqB,GAAGG,CAAQ,IAAIC,CAAQ,GAC1D,QAAQ,MAAM,eAAiB,GAAGZ,EAAM,MAAQO,CAAS,IAC3D,CAEA,SAASM,EAAQb,EAAOO,EAAW,CACjC,IAAMO,EAAUf,EAAcC,CAAK,EACnCc,EAAQ,QAAU,IAAMA,EAAQ,OAAO,EACvCA,EAAQ,YAAeR,GAAUD,EAAcL,EAAOM,EAAOC,CAAS,EACtEO,EAAQ,aAAe,IAAMA,EAAQ,OAAO,CAC9C,CAEA,SAASC,EAAkBR,EAAW,CACrB,SAAS,iBAAiB,sBAAsB,EACxD,QAASP,GAAU,CACxBA,EAAM,QAAWM,GAAU,CACzBO,EAAQb,EAAOO,CAAS,EACxBF,EAAcL,EAAOM,EAAOC,CAAS,CACvC,CACF,CAAC,CACH,CAEAQ,EAAkB,CAAC",
  "names": ["createOverlay", "image", "overlayImage", "prepareOverlay", "toggleLoadingSpinner", "container", "moveWithHover", "event", "zoomRatio", "ratio", "xPosition", "yPosition", "xPercent", "yPercent", "magnify", "overlay", "enableZoomOnHover"]
}
